/* angular-svg-round-progressbar@0.4.8 2016-09-18 */
(function(){(function(){var b=0;var c=["webkit","moz"];for(var a=0;a<c.length&&!window.requestAnimationFrame;++a){window.requestAnimationFrame=window[c[a]+"RequestAnimationFrame"];window.cancelAnimationFrame=window[c[a]+"CancelAnimationFrame"]||window[c[a]+"CancelRequestAnimationFrame"]}if(!window.requestAnimationFrame){window.requestAnimationFrame=function(g){var d=new Date().getTime();var e=Math.max(0,16-(d-b));var f=window.setTimeout(function(){g(d+e)},e);b=d+e;return f}}if(!window.cancelAnimationFrame){window.cancelAnimationFrame=function(d){window.clearTimeout(d)}}}());angular.module("angular-svg-round-progressbar",[]);angular.module("angular-svg-round-progressbar").constant("roundProgressConfig",{max:50,semi:false,rounded:false,responsive:false,clockwise:true,radius:100,color:"#45ccce",bgcolor:"#eaeaea",stroke:15,duration:800,animation:"easeOutCubic",animationDelay:0,offset:0});angular.module("angular-svg-round-progressbar").service("roundProgressService",["$window",function(e){var a={};var b=angular.isNumber;var d=document.head.querySelector("base");a.isSupported=!!(document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect);a.resolveColor=d&&d.href?function(g){var f=g.indexOf("#");if(f>-1&&g.indexOf("url")>-1){return g.slice(0,f)+window.location.href+g.slice(f)}return g}:function(f){return f};a.toNumber=function(f){return b(f)?f:parseFloat((f+"").replace(",","."))};a.getOffset=function(h,f){var j=+f.offset||0;if(f.offset==="inherit"){var g=h.$parent;while(g){if(g.hasOwnProperty("$$getRoundProgressOptions")){var i=g.$$getRoundProgressOptions();j+=((+i.offset||0)+(+i.stroke||0))}g=g.$parent}}return j};a.getTimestamp=(e.performance&&e.performance.now&&angular.isNumber(e.performance.now()))?function(){return e.performance.now()}:function(){return new e.Date().getTime()};a.updateState=function(m,p,j,k,h,f){if(!h){return k}var r=m>0?Math.min(m,p):0;var o=f?180:359.9999;var q=p===0?0:(r/p)*o;var g=c(h,h,j,q);var i=c(h,h,j,0);var l=(q<=180?0:1);var n="M "+g+" A "+j+" "+j+" 0 "+l+" 0 "+i;return k.attr("d",n)};a.animations={linearEase:function(g,f,i,h){return i*g/h+f},easeInQuad:function(g,f,i,h){return i*(g/=h)*g+f},easeOutQuad:function(g,f,i,h){return -i*(g/=h)*(g-2)+f},easeInOutQuad:function(g,f,i,h){if((g/=h/2)<1){return i/2*g*g+f}return -i/2*((--g)*(g-2)-1)+f},easeInCubic:function(g,f,i,h){return i*(g/=h)*g*g+f},easeOutCubic:function(g,f,i,h){return i*((g=g/h-1)*g*g+1)+f},easeInOutCubic:function(g,f,i,h){if((g/=h/2)<1){return i/2*g*g*g+f}return i/2*((g-=2)*g*g+2)+f},easeInQuart:function(g,f,i,h){return i*(g/=h)*g*g*g+f},easeOutQuart:function(g,f,i,h){return -i*((g=g/h-1)*g*g*g-1)+f},easeInOutQuart:function(g,f,i,h){if((g/=h/2)<1){return i/2*g*g*g*g+f}return -i/2*((g-=2)*g*g*g-2)+f},easeInQuint:function(g,f,i,h){return i*(g/=h)*g*g*g*g+f},easeOutQuint:function(g,f,i,h){return i*((g=g/h-1)*g*g*g*g+1)+f},easeInOutQuint:function(g,f,i,h){if((g/=h/2)<1){return i/2*g*g*g*g*g+f}return i/2*((g-=2)*g*g*g*g+2)+f},easeInSine:function(g,f,i,h){return -i*Math.cos(g/h*(Math.PI/2))+i+f},easeOutSine:function(g,f,i,h){return i*Math.sin(g/h*(Math.PI/2))+f},easeInOutSine:function(g,f,i,h){return -i/2*(Math.cos(Math.PI*g/h)-1)+f},easeInExpo:function(g,f,i,h){return(g==0)?f:i*Math.pow(2,10*(g/h-1))+f},easeOutExpo:function(g,f,i,h){return(g==h)?f+i:i*(-Math.pow(2,-10*g/h)+1)+f},easeInOutExpo:function(g,f,i,h){if(g==0){return f}if(g==h){return f+i}if((g/=h/2)<1){return i/2*Math.pow(2,10*(g-1))+f}return i/2*(-Math.pow(2,-10*--g)+2)+f},easeInCirc:function(g,f,i,h){return -i*(Math.sqrt(1-(g/=h)*g)-1)+f},easeOutCirc:function(g,f,i,h){return i*Math.sqrt(1-(g=g/h-1)*g)+f},easeInOutCirc:function(g,f,i,h){if((g/=h/2)<1){return -i/2*(Math.sqrt(1-g*g)-1)+f}return i/2*(Math.sqrt(1-(g-=2)*g)+1)+f},easeInElastic:function(h,f,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return f}if((h/=k)==1){return f+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;i=j/4}else{i=j/(2*Math.PI)*Math.asin(l/g)}return -(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+f},easeOutElastic:function(h,f,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return f}if((h/=k)==1){return f+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;i=j/4}else{i=j/(2*Math.PI)*Math.asin(l/g)}return g*Math.pow(2,-10*h)*Math.sin((h*k-i)*(2*Math.PI)/j)+l+f},easeInOutElastic:function(h,f,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return f}if((h/=k/2)==2){return f+l}if(!j){j=k*(0.3*1.5)}if(g<Math.abs(l)){g=l;i=j/4}else{i=j/(2*Math.PI)*Math.asin(l/g)}if(h<1){return -0.5*(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+f}return g*Math.pow(2,-10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j)*0.5+l+f},easeInBack:function(g,f,j,i,h){if(h==undefined){h=1.70158}return j*(g/=i)*g*((h+1)*g-h)+f},easeOutBack:function(g,f,j,i,h){if(h==undefined){h=1.70158}return j*((g=g/i-1)*g*((h+1)*g+h)+1)+f},easeInOutBack:function(g,f,j,i,h){if(h==undefined){h=1.70158}if((g/=i/2)<1){return j/2*(g*g*(((h*=(1.525))+1)*g-h))+f}return j/2*((g-=2)*g*(((h*=(1.525))+1)*g+h)+2)+f},easeInBounce:function(g,f,i,h){return i-a.animations.easeOutBounce(h-g,0,i,h)+f},easeOutBounce:function(g,f,i,h){if((g/=h)<(1/2.75)){return i*(7.5625*g*g)+f}else{if(g<(2/2.75)){return i*(7.5625*(g-=(1.5/2.75))*g+0.75)+f}else{if(g<(2.5/2.75)){return i*(7.5625*(g-=(2.25/2.75))*g+0.9375)+f}else{return i*(7.5625*(g-=(2.625/2.75))*g+0.984375)+f}}}},easeInOutBounce:function(g,f,i,h){if(g<h/2){return a.animations.easeInBounce(g*2,0,i,h)*0.5+f}return a.animations.easeOutBounce(g*2-h,0,i,h)*0.5+i*0.5+f}};function c(k,j,h,i){var g=(i-90)*Math.PI/180;var f=k+(h*Math.cos(g));var l=j+(h*Math.sin(g));return f+" "+l}return a}]);angular.module("angular-svg-round-progressbar").directive("roundProgress",["$window","roundProgressService","roundProgressConfig",function(c,a,d){var b={restrict:"EA",replace:true,transclude:true,scope:{current:"=",max:"=",semi:"=",rounded:"=",clockwise:"=",responsive:"=",onRender:"=",showMax:"=",radius:"@",color:"@",bgcolor:"@",stroke:"@",duration:"@",animation:"@",offset:"@",animationDelay:"@"}};if(!a.isSupported){return angular.extend(b,{template:'<div class="round-progress" ng-transclude></div>'})}return angular.extend(b,{link:function(r,k,o){var h=!k.hasClass("round-progress-wrapper");var l=h?k:k.find("svg").eq(0);var e=k.find("div").eq(0);var i=l.find("path").eq(0);var f=l.find("circle").eq(0);var t=angular.copy(d);var j=0;var g;var n;r.$$getRoundProgressOptions=function(){return t};var q=function(){var z=t.semi;var y=t.responsive;var u=+t.radius||0;var x=+t.stroke;var w=u*2;var v=u-(x/2)-a.getOffset(r,t);l.css({top:0,left:0,position:y?"absolute":"static",width:y?"100%":(w+"px"),height:y?"100%":(z?u:w)+"px",overflow:"hidden"});if(!h){l[0].setAttribute("viewBox","0 0 "+w+" "+(z?u:w))}e.css({position:"absolute",top:"50%",bottom:"auto",left:"50%",transform:"translateY(-50%) translateX(-50%)"});k.css({width:y?"100%":t.radius*2+"px",position:"relative",margin:"0 auto 0 auto",paddingBottom:y?(z?"50%":"100%"):0});i.css({stroke:a.resolveColor(t.color),strokeWidth:x,strokeLinecap:t.rounded?"round":"butt"});if(z){i.attr("transform",t.clockwise?"translate(0, "+w+") rotate(-90)":"translate("+w+", "+w+") rotate(90) scale(-1, 1)")}else{i.attr("transform",t.clockwise?"":"scale(-1, 1) translate("+(-w)+" 0)")}f.attr({cx:u,cy:u,r:v>=0?v:0}).css({stroke:a.resolveColor(t.bgcolor),strokeWidth:x})};var s=function(z,w,H){var E=a.toNumber(t.max||0);var C=z>0?c.Math.min(z,E):0;var y=(w===C||w<0)?0:(w||0);var x=C-y;var F=a.animations[t.animation];var B=+t.duration||0;var A=H||(z>E&&w>E)||(z<0&&w<0)||B<25;var D=a.toNumber(t.radius);var v=D-(t.stroke/2)-a.getOffset(r,t);var u=t.semi;l.attr({"aria-valuemax":E,"aria-valuenow":C});var G=function(){if(A){a.updateState(C,E,v,i,D,u);if(t.onRender){t.onRender(C,t,k)}}else{var I=a.getTimestamp();var K=++j;c.requestAnimationFrame(function J(){var M=c.Math.min(a.getTimestamp()-I,B);var L=F(M,y,x,B);a.updateState(L,E,v,i,D,u);e.html((t.showMax)?parseInt(L)+"/"+E:parseInt(L));if(t.onRender){t.onRender(L,t,k)}if(K===j&&M<B){c.requestAnimationFrame(J)}})}};if(t.animationDelay>0){c.clearTimeout(g);c.setTimeout(G,t.animationDelay)}else{G()}};var p=Object.keys(b.scope).filter(function(u){return m(u)&&u!=="current"});r.$watchGroup(p,function(v){for(var u=0;u<v.length;u++){if(typeof v[u]!=="undefined"){t[p[u]]=v[u]}}q();r.$broadcast("$parentOffsetChanged");if(t.offset==="inherit"&&!n){n=r.$on("$parentOffsetChanged",function(){s(r.current,r.current,true);q()})}else{if(t.offset!=="inherit"&&n){n()}}});r.$watchGroup(["current","max","radius","stroke","semi","offset"].filter(m),function(v,u){s(a.toNumber(v[0]),a.toNumber(u[0]))});function m(u){return o.hasOwnProperty(u)}},template:function(e){var g=e.parent();var h="round-progress";var f=['<svg class="'+h+'" xmlns="http://www.w3.org/2000/svg" role="progressbar" aria-valuemin="0">','<circle fill="none"/>','<path fill="none"/>',"<g ng-transclude></g>","</svg>"];while(g.length&&g[0].nodeName.toLowerCase()!==h&&typeof g.attr(h)==="undefined"){g=g.parent()}if(!g||!g.length){f.unshift('<div class="round-progress-wrapper"><div class="round-progress-value"></div>');f.push("</div>")}return f.join("\n")}})}])})();
